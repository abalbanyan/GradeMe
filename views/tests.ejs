<%- include partials/header.ejs %>

<div class="container">
  <h3>Tests</h4>
  <br>
  <div class="row">
    <div class="col-3">
      <div class="list-group" id="testcases-tab" role="tablist">
        <% tests.forEach((test, i) => { %>
          <a class="list-group-item list-group-item-action <%= i==0 ? 'active' : '' %>" data-toggle="list" href="#<%= test._id %>" role="tab">
            <%= test.name %>
          </a>
        <% }); %>
          <a class="list-group-item list-group-item-action <%= tests.length==0 ? 'active' : '' %>" data-toggle="list" href="#new-testcase" role="tab">+</a>
      </div>
    </div>
    <div class="col">
      <div class="tab-content" id="testcases-tabContent">
      <% tests.forEach((test, i) => { %>
        <div class="tab-pane fade mb-2 <%= i==0 ? 'show active' : '' %>" id="<%= test._id %>" role="tabpanel">
          <form class="mb-2">
            <div class="form-group">
              <label for="name">Testcase Name</label>
              <input type="text" class="form-control" id="name" value="<%= test.name %>">
            </div>
            <div class="form-group">
              <label for="stdin">STDIN</label>
              <textarea class="form-control" id="stdin" rows="5" cols="80"><%= test.stdin %></textarea>
            </div>
            <div class="form-group">
              <label for="stdin">STDOUT</label>
              <textarea class="form-control" id="stdin" rows="5" cols="80"><%= test.stdout %></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Update</button>
            <button type="button" class="btn btn-secondary">Delete</button>
          </form>
        </div>
      <% }); %>

        <!-- Submit a new testcase -->
        <div class="tab-pane fade <%= tests.length==0 ? 'show active' : '' %>" id="new-testcase" role="tabpanel">
          <form class="mb-2">
            <div class="form-group">
              <label for="name">Testcase Name</label>
              <input type="text" class="form-control" id="name">
            </div>
            <div class="form-group">
              <label for="stdin">STDIN</label>
              <textarea class="form-control" id="stdin" rows="5" cols="80"></textarea>
            </div>
            <div class="form-group">
              <label for="stdin">STDOUT</label>
              <textarea class="form-control" id="stdin" rows="5" cols="80"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Create</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include partials/footer.ejs %>
